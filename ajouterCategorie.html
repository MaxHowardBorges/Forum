<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/form.css" />
    <link rel="stylesheet" href="/css/quiSommesNous.css" />
    <title>Association Forum de Grasse - Alpes maritimes</title>
  </head>
  <header>
    <nav class="topnav">
      <div class="left">
        <img
          id="logo"
          src="/assets/img/forum_logo.png"
          onclick="window.location.href = 'index.php'"
        />
      </div>
      <div class="right">
        <div class="dropdown">
          <a href="index.php">Accueil</a>
          <div class="dropdown-content">
            <a href="#Mot">Mot</a>
            <a href="#Activites">Activites</a>
          </div>
        </div>
        <a href="quiSommesNous.php">Qui Sommes Nous</a>
        <a href="journéeForum.php">Journée Forum</a>
        <a class="active" href="annuaire.php">Annuaire</a>
        <a href="rencontres.php">Rencontres</a>
        <a href="lesExperts.php">Les Experts</a>
        <a href="agenda.php">Agenda</a>
        <a href="infos.php">Infos</a>
      </div>
    </nav>
  </header>
  <body>
  <div class="cat">
  <div class="categorie">
    <a><img id="imageAffiche" src="" alt="" style="max-width: 200px; margin-top: 10px;">
      <h3 id="nomAffiche">Nouvelle Catégorie</h3>
    </a>
  </div>
  </div>
    <div class="div-form">
      <form class="form" action="index.php">
        <p class="title">Ajouter une nouvelle catégorie</p>
        <label>
          <input id="nomInput" required="" placeholder="" type="title" class="input" />
          <span>Nom de la catégorie</span>
        </label>

        <label class="l1">
          <input id="imageInput" required="" placeholder="" type="file" class="input" />
          <span>Image</span>
        </label>

        <label class="l1">
          <input id="couleurInput"
            required=""
            placeholder=""
            type="color"
            class="input"
            style="height: 50px; width: 375px; margin-bottom: 10px"
          />
          <span>Couleur</span>
        </label>

        <label class="l1">
          <input
                  id="couleurInput2"
                  required=""
                  placeholder=""
                  type="color"
                  class="input"
                  style="height: 50px; width: 375px; margin-bottom: 30px"
          />
          <span>Couleur</span>
        </label>
        <!-- TODO : modifier pour que ce soit un input type submit -->
        <button type="submit">
          Ajouter
          <div class="arrow-wrapper">
            <div class="arrow"></div>
          </div>
        </button>
      </form>
    </div>
  </body>
  <footer>
    <div class="bottomnav">
      <div class="left"></div>
      <div class="center">
        <a href="partenaires.html">Partenaires</a>
        <a href="contacter.html">Contacter</a>
        <a href="deconnexion.php">Deconnexion</a>
      </div>
      <div class="right"></div>
    </div>
  </footer>
<script>// Récupérer les éléments input par leurs identifiants
var nomInput = document.getElementById("nomInput");
var imageInput = document.getElementById("imageInput");

// Récupérer les éléments d'affichage par leurs identifiants
var nomAffiche = document.getElementById("nomAffiche");
var imageAffiche = document.getElementById("imageAffiche");

// Récupérer les éléments input par leurs identifiants
var couleurInput = document.getElementById("couleurInput");
var couleurInput2 = document.getElementById("couleurInput2");

// Récupérer l'élément .categorie::before par son sélecteur CSS
var categorieBefore = document.querySelector(".categorie");

// Fonction pour mettre à jour la couleur de la ligne
function mettreÀJourCouleurLigne() {
  var couleur1 = couleurInput.value;
  var couleur2 = couleurInput2.value;
  categorieBefore.style.background = "linear-gradient(-45deg, " + couleur1 + " 0%, " + couleur2 + " 100%)";
}

// Écouter les changements de valeur dans les champs de couleur
couleurInput.addEventListener("input", mettreÀJourCouleurLigne);
couleurInput2.addEventListener("input", mettreÀJourCouleurLigne);

// Écouter les changements de valeur dans le champ de nom
nomInput.addEventListener("input", function() {
  var nom = nomInput.value;
  nomAffiche.textContent = nom;
});

// Écouter les changements de valeur dans le champ de fichier
imageInput.addEventListener("change", function() {
  var file = imageInput.files[0];
  var reader = new FileReader();

  reader.onload = function(e) {
    var imageSrc = e.target.result;
    imageAffiche.src = imageSrc;
  };

  reader.readAsDataURL(file);
});


</script>
</html>
